<!doctype html>
<html lang="ko">
    <head>
        <!-- 여기에 head.html을 인클루드 -->
        <meta charset="UTF-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="#8C63E7" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <link rel="shortcut icon" href="" />
        <link rel="apple-touch-icon" href="" />
        <link rel="apple-touch-icon-precomposed" href="" />
        <link rel="icon" href="" type="image/x-icon" />

        <meta name="Description" content="" />
        <meta name="Keywords" content="" />
        <meta name="Copyright" content="" />
        <meta content="" property="og:title" />
        <meta content="" property="og:description" />
        <meta content="" property="og:url" />
        <meta content="" property="og:site-name" />

        <link rel="stylesheet" href="../css/reset2.css" />
        <link rel="stylesheet" href="../css/root.css" />
        <link rel="stylesheet" href="../css/kendo/2022.1.119/kendo.common.min.css" />
        <!--    <link rel="stylesheet" href="../css/font.css">-->
        <link rel="stylesheet" href="../css/common.css" />
        <link rel="stylesheet" href="../css/util.css" />
        <link rel="stylesheet" href="../css/style2.css" />
        <link rel="stylesheet" href="../css/guide.css" />
        <link rel="stylesheet" href="../css/media2.css" />

        <script src="../js/jquery/3.4.1/jquery-3.4.1.js"></script>
        <script src="../js/kendo/2022.1.119/kendo.all.min.js"></script>
        <script src="../js/kendo/2022.1.119/cultures/kendo.culture.ko-KR.min.js"></script>
        <script src="../js/kendo/kendo.messages.ko-KR.js"></script>
        <script src="../js/common2.js"></script>
        <script src="../js/front.js"></script>

        <link rel="stylesheet" href="../js/prism.css" />
        <script src="../js/prism.js"></script>

        <title>Kendo Ui</title>
    </head>
    <body>
        <div class="wrap">
            <!--    Header START    -->
            <!-- 여기에 Header.html을 인클루드 -->
            <header class="left-header">
                <div class="left-header-top">
                    <h1 class="logo">
                        <a href="index.html"><img src="../images/logo.png" alt="로고" /></a>
                    </h1>
                </div>
                <nav class="left-header-menu-wrap">
                    <ul>
                        <li class="first util">
                            <a href="javascript: void(0);" class="tab">UTIL</a>
                            <ol>
                                <li class="liFont"><a href="util.html" data-hash="#font">font</a></li>
                                <li class="liMgPd"><a href="util_mgPd.html" data-hash="#mgPd">margin/padding</a></li>
                                <!--                    <li class="liColor"><a href="util_color.html" data-hash="#color">color</a></li>-->
                                <li class="liClamp"><a href="util_clamp.html" data-hash="#clamp">줄임표</a></li>
                                <li class="liFlex"><a href="util_flex.html" data-hash="#flex">flex</a></li>
                                <li class="liHide"><a href="util_hide.html" data-hash="#hide">hide</a></li>
                                <li class="liNoData"><a href="util_noData.html" data-hash="#noData">No Data</a></li>
                                <li class="liEtc"><a href="util_etc.html">Etc</a></li>
                                <!--                    <li><a href="util.html#skeleton">Skeleton</a></li>-->
                            </ol>
                        </li>
                        <li class="color">
                            <a href="javascript: void(0);" class="tab">COLOR</a>
                            <ol>
                                <li class="liColorPrimary"><a href="color_primary.html">Primary(theme)</a></li>
                                <li class="liColorText"><a href="color_text.html">Text</a></li>
                                <li class="liColorBg"><a href="color_bg.html">Background&Line</a></li>
                                <!--                    <li class="liColorBadge"><a href="color_badge.html">badge</a></li>-->
                                <!--                    <li class="liColorEtc"><a href="color_etc.html">etc</a></li>-->
                            </ol>
                        </li>
                        <li class="four button">
                            <a href="javascript: void(0);" class="tab">BUTTON</a>
                            <ol>
                                <li class="liBtn"><a href="Button.html" data-hash="#size">size</a></li>
                                <li class="liPopupBtn"><a href="Button_popupBtn.html" data-hash="#popup">popup</a></li>
                                <li class="liTableBtn"><a href="Button_tableBtn.html" data-hash="#tableBtn">table button</a></li>
                            </ol>
                        </li>
                        <li class="input">
                            <a href="javascript: void(0);" class="tab">Input/Select</a>
                            <ol>
                                <li class="liInput"><a href="input.html" data-hash="#input">Input box</a></li>
                                <li class="liSelect"><a href="input_select.html" data-hash="#select">Select</a></li>
                                <li class="liRadioChk"><a href="input_radioChk.html" data-hash="#radioCheck">Checkbox/Radio</a></li>
                                <li class="liTextBox"><a href="input_textBox.html" data-hash="#textareaBox">Textarea box</a></li>
                                <li class="liSize"><a href="input_size.html" data-hash="#inputSize">input Size</a></li>
                                <li class="liSearch"><a href="input_search.html" data-hash="#inputSearch">input Search</a></li>
                            </ol>
                        </li>
                        <li class="five popup">
                            <a href="javascript: void(0);" class="tab">Popup</a>
                            <ol>
                                <li class="liPopup"><a href="popup.html" data-hash="#style">Style</a></li>
                                <li class="liPopupTable"><a href="popup_popupTable.html">Popup in table</a></li>
                            </ol>
                        </li>
                        <li class="two breakpointTab">
                            <a href="javascript: void(0);" class="tab">Breakpoint</a>
                            <ol>
                                <li class="liBreakpoint"><a href="breakpoint.html">Breakpoint</a></li>
                            </ol>
                        </li>
                        <li class="two loginTab">
                            <a href="javascript: void(0);" class="tab">Login</a>
                            <ol>
                                <li class="liLogin"><a href="login.html">Login</a></li>
                                <!--                    <li class="liLIdPw"><a href="login_idPw.html">아이디찾기/비밀번호찾기</a></li>-->
                            </ol>
                        </li>
                        <li class="tips">
                            <a href="javascript: void(0);" class="tab">Tip</a>
                            <ol>
                                <li class="liTip"><a href="tips.html" data-hash="#tip">Tips</a></li>
                            </ol>
                        </li>
                        <li class="three star">
                            <a href="javascript: void(0);" class="tab">별점</a>
                            <ol>
                                <li class="liStar"><a href="star.html" data-hash="#star">별점</a></li>
                            </ol>
                        </li>

                        <li class="five tabLi">
                            <a href="javascript: void(0);" class="tab">TAB</a>
                            <ol>
                                <li class="liTab"><a href="tab.html" data-hash="#tabStyle">Tab</a></li>
                                <li class="liTabKendo"><a href="tab_kendoTab.html" data-hash="#tabKendo">Kendo Tab</a></li>
                                <li class="liFilterTab"><a href="tab_filter.html" data-hash="#filter">Filter</a></li>
                                <li class="liFilterTabApply"><a href="tab_filterEduList.html" data-hash="#filterEduList">Filter 교육신청</a></li>
                            </ol>
                        </li>
                        <li class="six tableLi">
                            <a href="javascript: void(0);" class="tab">테이블</a>
                            <ol>
                                <li class="liTable"><a href="table.html">table</a></li>
                                <!--                    <li class="liTable2"><a href="table_theme2.html">table Theme2</a></li>-->
                                <!--                    <li class="liTable3"><a href="table_theme3.html">table Theme3</a></li>-->
                                <li class="liGrid"><a href="table_grid.html">Kendo Grid</a></li>
                            </ol>
                        </li>
                        <li class="seven list">
                            <a href="javascript: void(0);" class="tab">리스트</a>
                            <ol>
                                <li class="liEdu"><a href="edu.html" data-hash="#main">메인</a></li>
                                <li class="liEduApply"><a href="edu_eduApply.html" data-hash="#eduApply">교육신청</a></li>
                                <li class="liMyClassIng"><a href="edu_myClassIng.html" data-hash="#myClassIng">나의강의실 수강중</a></li>
                                <li class="liMyClassEnd"><a href="edu_myClassEnd.html" data-hash="#myClassEnd">나의강의실 종료</a></li>
                                <li class="liMyCdp"><a href="edu_myCdp.html" data-hash="#myCdp">교육계획 현황</a></li>
                            </ol>
                        </li>
                        <li class="eight accordion">
                            <a href="javascript: void(0);" class="tab">아코디언</a>
                            <ol>
                                <li class="liAcco"><a href="accordion.html" data-hash="#accordion">서브페이지</a></li>
                                <li class="liAccoList"><a href="accordion_list.html" data-hash="#accordion2">강의목차</a></li>
                            </ol>
                        </li>
                        <li class="nine chart">
                            <a href="javascript: void(0);" class="tab">Chart</a>
                            <ol>
                                <li class="liBullet"><a href="chartBullet.html">bullet</a></li>
                                <li class="liColumn"><a href="chartColumn.html">column</a></li>
                                <li class="liDonut"><a href="chartDonut.html">donut</a></li>
                                <li class="liDonutHalf"><a href="chartDonutHalf.html">donut half</a></li>
                                <li class="liRadarArea"><a href="chartRadarArea.html">radarArea</a></li>
                                <!--                    <li class="liLine"><a href="chartLine.html">line</a></li>-->
                            </ol>
                        </li>
                        <!--            <li class="eight kendoUi">-->
                        <!--                <a href="javascript: void(0);" class="tab">Kendo UI</a>-->
                        <!--                <ol>-->
                        <!--                    <li class="liUpload"><a href="admin_kendoUi.html" data-hash="#upload">Upload</a></li>-->
                        <!--                    <li class="liGrid"><a href="kendoUi_grid.html" data-hash="#gridFilterTooltip">Grid</a></li>-->
                        <!--                    <li class="liIcons"><a href="kendoUi_icons.html" data-hash="#icons">Icons</a></li>-->
                        <!--                    <li class="liDatePicker"><a href="admin_kendoUi_date.html" data-hash="#datePicker">DatePicker</a></li>-->
                        <!--                    <li class="liTime"><a href="kendoUi_time.html" data-hash="#dateTimePicker">DateTimePicker</a></li>-->
                        <!--&lt;!&ndash;                    <li class="liRange"><a href="kendoUi_range.html" data-hash="#dateRangePicker">DateRangePicker</a></li>&ndash;&gt;-->
                        <!--&lt;!&ndash;                    <li class="liCalendar"><a href="kendoUi_calendar.html" data-hash="#calendar">Calendar</a></li>&ndash;&gt;-->
                        <!--                    <li class="liNumeric"><a href="kendoUi_numeric.html" data-hash="#numericTextBox">NumericTextBox</a></li>-->
                        <!--                    <li class="liDropDown"><a href="kendoUi_dropDown.html" data-hash="#dropDownList">DropDownList</a></li>-->
                        <!--                    <li class="liPaging"><a href="kendoUi_paging.html" data-hash="#paging">Paging</a></li>-->
                        <!--                    <li class="liEditor"><a href="kendoUi_editor.html" data-hash="#editor">Editor</a></li>-->
                        <!--                    <li class="liTree"><a href="kendoUi_tree.html" data-hash="#kendoTree">Kendo Tree</a></li>-->
                        <!--                </ol>-->
                        <!--            </li>-->
                        <li class="badge-">
                            <a href="javascript: void(0);" class="tab">Badge</a>
                            <ol>
                                <li class="liBadge"><a href="badge.html">Badge</a></li>
                            </ol>
                        </li>
                    </ul>
                </nav>
            </header>

            <!--        <div id="header" data-include-path="header.html"></div>-->
            <!--    Header END    -->

            <!--    본문영역 START    -->
            <main class="body-container">
                <!--        breadcrumb START        -->
                <section class="breadcrumb">
                    <div class="container">
                        <ul class="menu">
                            <li>
                                <a href="index.html"><i class="icon-home"></i></a>
                            </li>
                            <li>Kendo Ui</li>
                        </ul>
                    </div>
                </section>
                <!--        breadcrumb END        -->

                <section class="sec-">
                    <div class="container">
                        <h2>Kendo Ui</h2>

                        <div class="flex-group">
                            <div>
                                <article id="uploadPage" class="article-">
                                    <h3 class="title"># Upload - 페이지</h3>
                                    <p>페이지 내 upload 일 경우 보더 있다.</p>

                                    <div class="sec-cont mt30">
                                        <div class="box-cont">
                                            <input type="hidden" id="objectId" value="1" />
                                            <div id="file_upload" class="hide"></div>
                                            <div id="file_grid" class="file-template"></div>
                                        </div>
                                    </div>
                                </article>
                                <!--                // Upload Grid End    -->

                                <article id="uploadPopup" class="article-">
                                    <h3 class="title"># Upload - 팝업 콘텐츠</h3>
                                    <p>팝업 내 upload 일 경우 보더가 없다.</p>

                                    <div class="sec-cont mt30">
                                        <div class="popup-content">
                                            <input type="hidden" id="objectId2" value="1" />
                                            <div id="list_file_upload" class="hide my-file-upload"></div>
                                            <div id="list_file_grid" class="file-template"></div>
                                        </div>
                                    </div>
                                </article>
                                <!--                // Upload List End    -->

                                <div class="accordion-wrap mt30" style="width: 955px">
                                    <div class="accordion-head">
                                        <strong>코드 보기</strong>
                                    </div>
                                    <div class="accordion-body">
                                        <div class="g-code-box">
                                            <pre data-src="code/kendoUi_01.html"></pre>
                                        </div>
                                    </div>
                                </div>
                                <!--                        //    -->
                            </div>

                            <div class="guid-table-box">
                                <div class="guid-table-fixed">
                                    <strong>Class</strong>
                                    <strong>내용</strong>
                                </div>
                                <ul id="guidClass"></ul>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <footer></footer>
        </div>

        <script type="text/x-kendo-template" id="fileupload_template">
            <input name="upload_file" id="upload_file" type="file"/>
        </script>

        <script type="text/x-kendo-template" id="list_fileupload_template">
            <input name="list_upload_file" id="list_upload_file" type="file"/>
        </script>

        <!-- 파일 템플릿 -->
        <script id="fileList" type="text/x-kendo-template">
            <tr>
                <td colspan="2">
                    <div class="file-list">
                        <a href="/comm/download_my_attachment.do?attachmentId=#:attachmentId#" class="file-tit"><span class="file-icon"></span>#:name#</a>
                        <span class="file-size">#= commaStr(data.size) #byte</span>
                        <button class="del-file" onclick="deleteFile(#:attachmentId#, 'list_file_grid')"></button>
                    </div>
                </td>
            </tr>
        </script>
        <!-- //파일 템플릿 -->

        <script>
            var now = new Date();
            var mon = '';
            var day = '';
            if (now.getMonth() + 1 < 10) {
                mon = '0' + (now.getMonth() + 1);
            } else {
                mon = now.getMonth() + 1;
            }
            if (now.getDate() < 10) {
                day = '0' + now.getDate();
            } else {
                day = now.getDate();
            }
            var nowDay = now.getFullYear() + '-' + mon + '-' + day;

            var currentPath = window.location.pathname;
            var currentHash = window.location.hash;

            $(function () {
                kendo.culture('ko-KR');

                $('.kendoUi .liUpload a').addClass('active');

                // 파일업로드
                listFileGridDef('file_grid', 52);
                fileUploaderDef('file_upload', 'uploadWindow', 52, 'fileupload_template', 'upload_file', 'file_grid');

                listFileGridDef('list_file_grid', 52);
                fileUploaderDef('list_file_upload', 'listUploadWindow', 52, 'list_fileupload_template', 'list_upload_file', 'list_file_grid');

                var html = '';
                var guidData = [
                    { classNm: 'my-file-upload', cont: '파일 업로드 영역 custom class' },
                    { classNm: 'file-template', cont: '파일 업로드 결과 영역 class' },
                    { classNm: 'file-list', cont: '파일 한줄 영역' },
                    { classNm: 'file-tit', cont: '파일 업로드 결과 제목 class' },
                    { classNm: 'file-tit', cont: '파일 제목 class' },
                    { classNm: 'file-size', cont: '파일 사이즈 제목 class' },
                    { classNm: 'del-file', cont: '파일 삭제 버튼 class' },
                ];

                for (var i = 0; i < guidData.length; i++) {
                    html += '<li>';
                    html += "   <p class='left'>" + guidData[i].classNm + '</p>';
                    html += "   <p class='right'>" + guidData[i].cont + '</p>';
                    html += '</li>';
                }

                $('#guidClass').html(html);
            });

            var fileGridData = [{ name: '파일명.png', size: 123456, attachmentId: 123 }];

            //첨부파일 그리드 정의
            var listFileGridDef = function (gridNm, objType) {
                $('#' + gridNm).kendoGrid({
                    dataSource: fileGridData,
                    pageable: false,
                    selectable: false,
                    scrollable: false,
                    editable: false,
                    columns: [{ field: 'name' }, { field: 'size' }],
                    rowTemplate: kendo.template($('#fileList').html()),
                    noRecords: {
                        template: "<div class='not-data-cont'><span>파일이 존재하지 않습니다.</span></div>",
                    },
                });
            };

            //첨부파일 삭제.
            function deleteFile(objType, attachmentId, gname) {
                if (confirm('첨부파일을 삭제 하시겠습니까?')) {
                    //첨부파일을 삭제 하시겠습니까?
                    //로딩바 생성.
                    //loadingOpen();
                    $.ajax({
                        type: 'POST',
                        url: '<%=com.podosw.web.util.ServletUtils.getContextPath(request)%>/comm/delete_my_attachment.do?output=json',
                        data: { attachmentId: attachmentId },
                        success: function (response) {
                            $('#' + gname)
                                .data('kendoGrid')
                                .dataSource.read();
                            //loadingClose();
                        },
                        error: podo.ui.handleAjaxError,
                        complete: function (xhr, statusText) {
                            //로딩바 제거.
                            //loadingClose();
                        },
                        dataType: 'json',
                    });
                }
            }

            //첨부파일 업로드 컴포넌트 정의
            var fileUploaderDef = function (fileUploadDivTagId, uploadWindowId, objType, fileUploadTemplateId, uploadFileId, fileGridId) {
                var ver = getInternetExplorerVersion();
                if (ver > -1 && ver < 10) {
                    if ($('#' + fileUploadDivTagId).text().length == 0) {
                        var template = kendo.template('<button id="' + uploadWindowId + '" name="' + uploadWindowId + '">파일 업로드 하기</button>');
                        $('#' + fileUploadDivTagId).html(template({}));
                        $('#' + uploadWindowId).kendoButton({
                            click: function (e) {
                                var width = 380;
                                var height = 220;
                                var left = (screen.width - width) / 2;
                                var top = (screen.height - height) / 2;

                                var windowUrl =
                                    '<%= com.podosw.web.util.ServletUtils.getContextPath(request) %>/comm/save_my_attachment.do?objectType=' + objType + '&objectId=' + $('#IMG_OBJECT_ID').val();
                                myWindow = window.open(windowUrl, '_blank', 'toolbar=no, scrollbars=yes, resizable=yes, top=' + top + ', left=' + left + ', width=' + width + ', height=' + height);
                            },
                        });
                        $('#' + fileUploadDivTagId).removeClass('hide');
                    }
                } else {
                    if ($('#' + fileUploadDivTagId).text().length == 0) {
                        var template = kendo.template($('#' + fileUploadTemplateId).html());
                        $('#' + fileUploadDivTagId).html(template({}));
                    }

                    $('#' + uploadFileId).kendoUpload({
                        showFileList: false,
                        width: 500,
                        multiple: false,
                        localization: { select: '파일 선택', statusUploaded: '완료.', statusFailed: '업로드 실패.' },
                        async: {
                            saveUrl: '<%= com.podosw.web.util.ServletUtils.getContextPath(request) %>/comm/save_my_attachment.do',
                            autoUpload: true,
                        },
                        upload: function (e) {
                            e.data = { objectType: objType, objectId: $('#objectId').val() };
                        },
                        error: function (e) {},
                        success: function (e) {
                            $('#' + fileGridId)
                                .data('kendoGrid')
                                .dataSource.read();

                            if (objType == '52') {
                                //썸네일
                                $('#thumbnailId').val(e.response.attachmentId);
                            }
                        },
                        select: function (e) {
                            var loginLogoFileGirdSize = $('#' + fileGridId)
                                .data('kendoGrid')
                                .dataSource.data().length;

                            if (loginLogoFileGirdSize > 0) {
                                e.preventDefault();
                                alert('이미 등록된 파일을 삭제 후 다시 시도해주세요.');
                            } else {
                                $.each(e.files, function (index, value) {
                                    if (value.size > 10485760) {
                                        e.preventDefault();
                                        alert('파일 사이즈는 10M로 제한되어 있습니다.');
                                    } else {
                                        if (
                                            value.extension != '.JPG' &&
                                            value.extension != '.jpg' &&
                                            value.extension != '.GIF' &&
                                            value.extension != '.gif' &&
                                            value.extension != '.PNG' &&
                                            value.extension != '.png'
                                        ) {
                                            e.preventDefault();
                                            alert('이미지 파일만 선택해주세요.');
                                        }
                                    }
                                });
                            }
                        },
                    });
                    $('#' + fileUploadDivTagId).removeClass('hide');
                }
            };
        </script>
    </body>
</html>
